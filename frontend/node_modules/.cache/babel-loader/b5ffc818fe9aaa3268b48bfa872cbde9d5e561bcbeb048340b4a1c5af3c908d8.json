{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  cookies: null,\n  draftMode: null,\n  headers: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  cookies: function () {\n    return cookies;\n  },\n  draftMode: function () {\n    return draftMode;\n  },\n  headers: function () {\n    return headers;\n  }\n});\nconst _requestcookies = require(\"../../server/web/spec-extension/adapters/request-cookies\");\nconst _headers = require(\"../../server/web/spec-extension/adapters/headers\");\nconst _cookies = require(\"../../server/web/spec-extension/cookies\");\nconst _actionasyncstorageexternal = require(\"./action-async-storage.external\");\nconst _draftmode = require(\"./draft-mode\");\nconst _dynamicrendering = require(\"../../server/app-render/dynamic-rendering\");\nconst _staticgenerationasyncstorageexternal = require(\"./static-generation-async-storage.external\");\nconst _requestasyncstorageexternal = require(\"./request-async-storage.external\");\nfunction headers() {\n  const callingExpression = \"headers\";\n  const staticGenerationStore = _staticgenerationasyncstorageexternal.staticGenerationAsyncStorage.getStore();\n  if (staticGenerationStore) {\n    if (staticGenerationStore.forceStatic) {\n      // When we are forcing static we don't mark this as a Dynamic read and we return an empty headers object\n      return _headers.HeadersAdapter.seal(new Headers({}));\n    } else {\n      // We will return a real headers object below so we mark this call as reading from a dynamic data source\n      (0, _dynamicrendering.trackDynamicDataAccessed)(staticGenerationStore, callingExpression);\n    }\n  }\n  return (0, _requestasyncstorageexternal.getExpectedRequestStore)(callingExpression).headers;\n}\nfunction cookies() {\n  const callingExpression = \"cookies\";\n  const staticGenerationStore = _staticgenerationasyncstorageexternal.staticGenerationAsyncStorage.getStore();\n  if (staticGenerationStore) {\n    if (staticGenerationStore.forceStatic) {\n      // When we are forcing static we don't mark this as a Dynamic read and we return an empty cookies object\n      return _requestcookies.RequestCookiesAdapter.seal(new _cookies.RequestCookies(new Headers({})));\n    } else {\n      // We will return a real headers object below so we mark this call as reading from a dynamic data source\n      (0, _dynamicrendering.trackDynamicDataAccessed)(staticGenerationStore, callingExpression);\n    }\n  }\n  const requestStore = (0, _requestasyncstorageexternal.getExpectedRequestStore)(callingExpression);\n  const asyncActionStore = _actionasyncstorageexternal.actionAsyncStorage.getStore();\n  if ((asyncActionStore == null ? void 0 : asyncActionStore.isAction) || (asyncActionStore == null ? void 0 : asyncActionStore.isAppRoute)) {\n    // We can't conditionally return different types here based on the context.\n    // To avoid confusion, we always return the readonly type here.\n    return requestStore.mutableCookies;\n  }\n  return requestStore.cookies;\n}\nfunction draftMode() {\n  const callingExpression = \"draftMode\";\n  const requestStore = (0, _requestasyncstorageexternal.getExpectedRequestStore)(callingExpression);\n  return new _draftmode.DraftMode(requestStore.draftMode);\n}\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"names":["cookies","draftMode","headers","callingExpression","staticGenerationStore","_staticgenerationasyncstorageexternal","staticGenerationAsyncStorage","getStore","forceStatic","_headers","HeadersAdapter","seal","Headers","_dynamicrendering","trackDynamicDataAccessed","_requestasyncstorageexternal","getExpectedRequestStore","_requestcookies","RequestCookiesAdapter","_cookies","RequestCookies","requestStore","asyncActionStore","_actionasyncstorageexternal","actionAsyncStorage","isAction","isAppRoute","mutableCookies","_draftmode","DraftMode"],"sources":["../../../src/client/components/headers.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;EAsCgBA,OAAO,WAAAA,CAAA;WAAPA,OAAA;;EA0BAC,SAAS,WAAAA,CAAA;WAATA,SAAA;;EA3CAC,OAAO,WAAAA,CAAA;WAAPA,OAAA;;;gCAlBT;yBACwB;yBACA;4CACI;2BACT;kCACe;sDACI;6CACL;AAWjC,SAASA,QAAA;EACd,MAAMC,iBAAA,GAAoB;EAC1B,MAAMC,qBAAA,GAAwBC,qCAAA,CAAAC,4BAA4B,CAACC,QAAQ;EAEnE,IAAIH,qBAAA,EAAuB;IACzB,IAAIA,qBAAA,CAAsBI,WAAW,EAAE;MACrC;MACA,OAAOC,QAAA,CAAAC,cAAc,CAACC,IAAI,CAAC,IAAIC,OAAA,CAAQ,CAAC;IAC1C,OAAO;MACL;MACA,IAAAC,iBAAA,CAAAC,wBAAwB,EAACV,qBAAA,EAAuBD,iBAAA;IAClD;EACF;EAEA,OAAO,IAAAY,4BAAA,CAAAC,uBAAuB,EAACb,iBAAA,EAAmBD,OAAO;AAC3D;AAEO,SAASF,QAAA;EACd,MAAMG,iBAAA,GAAoB;EAC1B,MAAMC,qBAAA,GAAwBC,qCAAA,CAAAC,4BAA4B,CAACC,QAAQ;EAEnE,IAAIH,qBAAA,EAAuB;IACzB,IAAIA,qBAAA,CAAsBI,WAAW,EAAE;MACrC;MACA,OAAOS,eAAA,CAAAC,qBAAqB,CAACP,IAAI,CAAC,IAAIQ,QAAA,CAAAC,cAAc,CAAC,IAAIR,OAAA,CAAQ,CAAC;IACpE,OAAO;MACL;MACA,IAAAC,iBAAA,CAAAC,wBAAwB,EAACV,qBAAA,EAAuBD,iBAAA;IAClD;EACF;EAEA,MAAMkB,YAAA,GAAe,IAAAN,4BAAA,CAAAC,uBAAuB,EAACb,iBAAA;EAE7C,MAAMmB,gBAAA,GAAmBC,2BAAA,CAAAC,kBAAkB,CAACjB,QAAQ;EACpD,IAAI,CAAAe,gBAAA,oBAAAA,gBAAA,CAAkBG,QAAQ,MAAIH,gBAAA,oBAAAA,gBAAA,CAAkBI,UAAU,GAAE;IAC9D;IACA;IACA,OAAOL,YAAA,CAAaM,cAAc;EACpC;EAEA,OAAON,YAAA,CAAarB,OAAO;AAC7B;AAEO,SAASC,UAAA;EACd,MAAME,iBAAA,GAAoB;EAC1B,MAAMkB,YAAA,GAAe,IAAAN,4BAAA,CAAAC,uBAAuB,EAACb,iBAAA;EAE7C,OAAO,IAAIyB,UAAA,CAAAC,SAAS,CAACR,YAAA,CAAapB,SAAS;AAC7C","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}